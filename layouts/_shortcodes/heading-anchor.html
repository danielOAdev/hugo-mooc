{{- $level := default "2" (.Get "level") }}
{{- $tag := default (print "h" (default 1 $level)) (.Get "tag") }}
{{- $title := (.Get "title") }}
{{- $prefix := (.Get "prefix") }}

{{ $id := urlize $title }}

{{ with $prefix}}
    {{ $id = urlize (print $prefix "--" $title) }}
{{ end }}

{{ printf "<%s id=\"%s\">" $tag $id | safeHTML }}
    <a href="#{{ $id }}" class="heading-anchor">{{ $title }}</a>
{{ printf "</%s>" $tag | safeHTML }}